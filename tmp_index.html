
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

      <script type="module" src="/@vite/client"></script>

      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Community Marketplace Website</title>
      <!-- Inline preferrer to avoid FOUC: apply saved dark preference early, then strong dark-mode overrides -->
      <script>
        (function(){
          try {
            const saved = localStorage.getItem('iskomarket-dark-mode');
            if (saved === 'true') {
              document.documentElement.classList.add('dark');
              document.documentElement.setAttribute('data-theme', 'dark');
            } else {
              document.documentElement.classList.remove('dark');
              document.documentElement.removeAttribute('data-theme');
            }
          } catch (e) { /* ignore */ }
        })();
      </script>
      <style>
        html[data-theme="dark"] body, .dark body { background: var(--app-bg, var(--background)) !important; color: var(--foreground) !important; }
        html[data-theme="dark"] nav.sticky.top-0.z-50, html[data-theme="dark"] nav.sticky.top-0, .dark nav.sticky.top-0.z-50, .dark nav.sticky.top-0 { background: var(--nav-bg) !important; border-bottom-color: var(--border) !important; box-shadow: none !important; backdrop-filter: none !important; -webkit-backdrop-filter: none !important; }
        html[data-theme="dark"] .hero-gradient, .dark .hero-gradient { background-image: var(--hero-gradient) !important; background-color: var(--hero-gradient-left) !important; color: var(--card-foreground) !important; }
        html[data-theme="dark"] .stat-card, html[data-theme="dark"] .rounded-lg, html[data-theme="dark"] .card, .dark .stat-card, .dark .rounded-lg, .dark .card { background-color: var(--card) !important; border-color: var(--border) !important; color: var(--card-foreground) !important; box-shadow: none !important; --tw-gradient-from: var(--card) !important; --tw-gradient-via: var(--card) !important; --tw-gradient-to: var(--card) !important; }
        html[data-theme="dark"] .admin-mode-glow, html[data-theme="dark"] .glow-green, html[data-theme="dark"] .box-shadow-green, .dark .admin-mode-glow, .dark .glow-green, .dark .box-shadow-green { box-shadow: none !important; filter: none !important; }
      </style>

      <style id="dark-mode-fix">
        /* Safe dark-mode defaults (permanent fix) */
        html[data-theme="dark"], .dark {
          --app-bg: #07120d;
          --background: #07120d;
          --card: #0f2b21;
          --nav-bg: rgba(7,18,13,0.95);
          --border: rgba(255,255,255,0.06);
          --card-foreground: #e6f0e6;
          --foreground: #e6f0e6;
        }

        /* Ensure key components respect the vars */
        html[data-theme="dark"] nav.sticky.top-0.z-50, .dark nav.sticky.top-0.z-50,
        html[data-theme="dark"] nav.sticky.top-0, .dark nav.sticky.top-0 {
          background: var(--nav-bg) !important;
          border-bottom-color: var(--border) !important;
          box-shadow: none !important;
        }

        html[data-theme="dark"] .hero-gradient, .dark .hero-gradient {
          background-image: var(--hero-gradient) !important;
          background-color: var(--hero-gradient-left) !important;
          color: var(--card-foreground) !important;
        }

        html[data-theme="dark"] .stat-card, html[data-theme="dark"] .rounded-lg, html[data-theme="dark"] .card, .dark .stat-card, .dark .rounded-lg, .dark .card {
          background-color: var(--card) !important;
          border-color: var(--border) !important;
          color: var(--card-foreground) !important;
        }
      </style>
    </head>

    <body>
      <div id="root"></div>
      <script type="module" src="/src/main.tsx"></script>

    </body>
  </html>
  
